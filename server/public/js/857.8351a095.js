"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[857],{9754:function(e,t,a){var s=a(3390);class l{getAll(){return s.Z.get("/payments")}get(e){return s.Z.get(`/payments/${e}`)}create(e){return s.Z.post("/payments",e)}update(e,t){return s.Z.put(`/payments/${e}`,t)}delete(e){return s.Z["delete"](`/payments/${e}`)}deleteAll(){return s.Z["delete"]("/payments")}findByLabel(e){return s.Z.get(`/payments?descs=${e}`)}}t["Z"]=new l},8029:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var s=a(3625),l=a(3381),n=a(5893),i=a(5255),d=a(2667),r=a(6530),c=a(837),o=a(3749),u=a(3240),p=a(9088),m=a(7894),y=a(3156),h=a(2515),f=a(9007),g=function(){var e=this,t=e._self._c;return t("div",[t(s.Z,{attrs:{flat:""}},[t(m.Z,{attrs:{justify:"center"}},[t(o.Z,{attrs:{persistent:"","max-width":"900px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(h.Z),t(l.Z,e._g(e._b({attrs:{color:"primary",dark:"",icon:""},on:{click:e.newpayment}},"v-btn",s,!1),a),[t(p.Z,[e._v("mdi-plus-circle")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(n.Z,[t(i.EB,[e.editedMode?t("span",{staticClass:"text-h5"},[e._v("Edit Payment")]):t("span",{staticClass:"text-h5"},[e._v("Tambah Payment")])]),t(i.ZB,[t(r.Z,[t(u.Z,{ref:"form",attrs:{"lazy-validation":""}},[t(f.Z,{attrs:{rules:[e=>!!e||"Description is required"],label:"Desc",required:""},model:{value:e.payment.desc,callback:function(t){e.$set(e.payment,"desc",t)},expression:"payment.desc"}}),t(f.Z,{attrs:{label:"Due Date"},model:{value:e.payment.duedate,callback:function(t){e.$set(e.payment,"duedate",t)},expression:"payment.duedate"}}),t(y.Z,{attrs:{items:e.types,rules:[e=>!!e||"Type is required"],label:"Type",required:""},model:{value:e.payment.type,callback:function(t){e.$set(e.payment,"type",t)},expression:"payment.type"}}),t(d.Z,{attrs:{label:"Default"},model:{value:e.payment.default,callback:function(t){e.$set(e.payment,"default",t)},expression:"payment.default"}})],1)],1),t("small",[e._v("*masukan data dengan benar")])],1),t(i.h7,[t(h.Z),t(l.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Close ")]),t(l.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.savepayment(e.editedMode)}}},[e._v(" Save ")])],1)],1)],1)],1)],1),t(r.Z,{staticClass:"grey lighten-5 mb-6"},[t(c.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.Payments,search:e.search,"items-per-page":10},scopedSlots:e._u([{key:"item.default",fn:function({item:a}){return[t(d.Z,{model:{value:a.default,callback:function(t){e.$set(a,"default",t)},expression:"item.default"}})]}},{key:"item.actions",fn:function({item:a}){return[t(p.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editpayment(a.id)}}},[e._v("mdi-pencil")]),t(p.Z,{attrs:{small:""},on:{click:function(t){return e.deletepayment(a.id)}}},[e._v("mdi-delete")])]}}],null,!0)})],1)],1)},v=[],Z=a(9754),b={data:()=>({dialog:!1,dialogTitle:"",btnTitle:"",submitted:!1,editedMode:void 0,search:"",headers:[{text:"Desc",align:"start",value:"desc",class:"primary"},{text:"Type",value:"type",class:"primary"},{text:"Due Date",value:"duedate",sortable:!1,class:"primary"},{text:"default",value:"default",class:"primary"},{text:"Actions",value:"actions",sortable:!1,class:"primary"}],Payments:[],payment:{desc:"",type:"",duedate:"",default:!1},types:["Cash","Kredit"]}),mounted(){this.retrievePayments()},methods:{retrievePayments(){Z.Z.getAll().then((e=>{this.Payments=e.data.payments.map(this.getDisplayPayments)})).catch((e=>{console.log(e)}))},refreshList(){this.retrievePayments()},getDisplayPayments(e){return{id:e.id,desc:e.desc,type:e.type,duedate:e.duedate,default:e.default}},savepayment(e){var t={desc:this.payment.desc,type:this.payment.type,duedate:this.payment.duedate,default:this.payment.default};console.log(t),e?Z.Z.update(e,t).then((e=>{console.log(e.data.message),this.refreshList(),this.closeDialog()})).catch((e=>{console.log(e)})):Z.Z.create(t).then((e=>{console.log(e.data),this.submitted=!0,this.refreshList(),this.clearpayment(),this.closeDialog()})).catch((e=>{console.log(e)}))},editpayment(e){this.editedMode=e,Z.Z.get(e).then((e=>{this.payment={desc:e.data.desc,type:e.data.type,duedate:e.data.duedate,default:e.data.default},this.dialog=!0})).catch((e=>{console.log(e)}))},deletepayment(e){Z.Z["delete"](e).then((()=>{this.refreshList()})).catch((e=>{console.log(e)}))},newpayment(){this.submitted=!1,this.dialog=!0,this.clearpayment()},clearpayment(){this.payment={desc:"",type:"",duedate:"",default:!1}},closeDialog(){this.dialog=!1,this.editedMode=void 0,this.clearpayment()}}},k=b,x=a(1001),D=(0,x.Z)(k,g,v,!1,null,null,null),_=D.exports}}]);
//# sourceMappingURL=857.8351a095.js.map